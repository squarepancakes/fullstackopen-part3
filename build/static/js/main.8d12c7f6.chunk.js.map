{"version":3,"sources":["components/Person.js","components/People.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDeleteButtonClick","name","number","onClick","id","People","persons","query","handleDelete","filter","toLowerCase","includes","map","key","AddPerson","handleSubmit","handleNumberChange","handleNameChange","newName","newNumber","onSubmit","onChange","value","type","Filter","handleQueryChange","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","result","Notification","message","styleMessage","className","App","useState","setPersons","setNewName","setNewNumber","setQuery","setMessage","messageStyle","setMessageStyle","useEffect","personService","event","target","preventDefault","found","find","window","confirm","p","setTimeout","catch","concat","matchPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d12c7f6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, handleDeleteButtonClick}) => {\n  return (\n    <div>{person.name} {person.number} <button onClick={handleDeleteButtonClick(person.id)}>delete</button></div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst People = ({persons, query, handleDelete}) => {\n  const lookup = person => person.name.toLowerCase().includes(query.toLowerCase())\n  const people = persons.filter(lookup)\n  return people.map(person =>\n    <Person key={person.name} person={person} handleDeleteButtonClick={handleDelete}/>)\n}\n\nexport default People\n","import React from 'react'\n\nconst AddPerson = ({handleSubmit, handleNumberChange, handleNameChange, newName, newNumber}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n    <div>\n      name: <input \n      onChange={handleNameChange}\n      value={newName}\n      />\n    </div>\n    <div>\n      number: <input \n      onChange={handleNumberChange}\n      value={newNumber}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nexport default AddPerson","import React from 'react'\n\nconst Filter = ({query, handleQueryChange}) => {\n  return (\n    <input \n    type=\"text\"\n    value={query}\n    onChange={handleQueryChange}\n  />\n  )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  return axios\n    .get(baseUrl)\n    .then(response => response.data)\n}\n\nconst create = (newPerson) => {\n  return axios\n    .post(baseUrl, newPerson)\n    .then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n}\n\nconst putPerson = (id, newPerson) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newPerson)\n    .then(result => result.data)\n}\n\nexport default {\n  getAll, create, deletePerson, putPerson\n}","import React from 'react'\n\nconst Notification = ({message, styleMessage}) => {\n  if(message === null) {\n    return null\n  }\n\n  return (\n    <div className={styleMessage}>\n      {message}\n    </div>\n  )\n}\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport People from './components/People'\nimport AddPerson from './components/AddPerson'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './App.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ query, setQuery ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ messageStyle, setMessageStyle] = useState(null)\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const searchPerson = person => \n      person.name.toLowerCase() === newName.toLowerCase()\n    const found = persons.find(searchPerson)\n    if(found) {\n      const userDecision = window\n        .confirm(`${newName} is already added to phonebook. Would you like to edit`)\n      if(userDecision){\n        personService\n          .putPerson(found.id, {name: newName, number: newNumber})\n          .then(person => {\n            setPersons(persons.map(p => p.id === found.id ? person : p))\n            setMessage(`Number of ${person.name} updated`)\n            setMessageStyle('message success')\n            setTimeout(() => {\n              setMessage(null)\n              setMessageStyle(null)\n            }, 5000)\n          })\n          .catch(() => {\n            setMessage('error already deleted')\n            setMessageStyle('message error')\n            setTimeout(()=> {\n              setMessage(null)\n              setMessageStyle(null)\n            }, 5000)\n            setPersons(persons.filter(person=>person.id !== found.id))\n          })\n      }\n      setNewName('')\n      setNewNumber('')\n    } else {\n        personService\n          .create({name:newName, number: newNumber})\n          .then(person => {\n            setPersons(persons.concat(person))\n            setMessage(`Added ${person.name}`)\n            setMessageStyle('message success')\n            setTimeout(() => {\n              setMessage(null)\n              setMessageStyle(null)\n            }, 5000)\n          })\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value)\n  }\n\n  const handleInitialFetch = () => {\n    personService\n      .getAll()\n      .then((persons) => setPersons(persons))\n  }\n\n  useEffect(handleInitialFetch, [])\n\n  const handleDeleteClick = (id) => {\n    return () => {\n      const matchPerson = persons.find(person => person.id === id)\n      const isConfirmed = window.confirm(`Would you like to delete ${matchPerson.name}`)\n      if(isConfirmed) {\n        personService.deletePerson(id)\n        setPersons(persons.filter(person => person.id !== id))\n      }\n    } \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} styleMessage={messageStyle}/>\n      <div>\n        filter shown with \n        <Filter query={query} handleQueryChange={handleQueryChange}/>\n      </div>\n      <h2>add a new</h2>\n      <AddPerson \n        handleSubmit={handleSubmit} \n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <div><People persons={persons} query={query} handleDelete={handleDeleteClick}/></div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}